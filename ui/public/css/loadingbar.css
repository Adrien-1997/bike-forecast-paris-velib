/* /public/css/loadingbar.css
   Barre harmonisée (style banner) avec synchronisation instantanée
   Bleu = progression unique, vert/rouge = immédiat + plein
*/

.loadingbar{
  position: relative;
  width: 100%;
  margin-top: 16px;
  border-radius: 10px;
  border: 1px solid var(--hairline);
  background: var(--bg-soft);
  color: inherit;
  opacity: .95;
  overflow: hidden;
  height: 18px;
}

/* Rail */
.loadingbar__track{
  position: absolute;
  inset: 0;
  border-radius: inherit;
  overflow: hidden;
  background: var(--bg-soft);
}

/* Barre colorée (pleine hauteur) */
.loadingbar__bar{
  position: absolute;
  inset: 0;
  transform-origin: left center;
  transform: scaleX(0);
  border-radius: inherit;
  will-change: transform, background;
  transition: transform .45s ease-out, background .25s ease-out;
}

/* === États === */

/* Chargement : progression rapide (non bloquante) */
.is-loading .loadingbar__bar{
  background: linear-gradient(90deg, var(--primary-2, #1d7fff), #59d4ff);
  animation: lb-grow-once 0.8s ease-out forwards;
}
@keyframes lb-grow-once{
  0%   { transform: scaleX(0); }
  100% { transform: scaleX(.85); }
}

/* Succès : devient vert instantanément et se complète */
.is-success .loadingbar__bar{
  background: linear-gradient(90deg, var(--ok, #22c55e), #22c55e);
  transform: scaleX(1);
  transition: transform .4s ease-out, background .1s linear;
}

/* Erreur : devient rouge instantanément et se complète */
.is-error .loadingbar__bar{
  background: linear-gradient(90deg, var(--err, #ef4444), #ef4444);
  transform: scaleX(1);
  transition: transform .4s ease-out, background .1s linear;
}

/* Message d’erreur optionnel (sous la barre) */
.loadingbar__msg{
  margin-top: 8px;
  border-radius: 10px;
  padding: 8px 10px;
  font-size: .92rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  border: 1px solid var(--err);
  background: rgba(239,68,68,.10);
  color: #f87171;
}

.loadingbar__retry{
  appearance: none;
  border: 1px solid var(--hairline);
  border-radius: 8px;
  padding: .35rem .6rem;
  cursor: pointer;
  background: var(--panel-2);
  color: var(--text);
  font-weight: 700;
  transition: transform .12s ease, box-shadow .15s ease, background .15s ease;
}
.loadingbar__retry:hover{
  transform: translateY(-1px);
  box-shadow: var(--shadow-2);
}
