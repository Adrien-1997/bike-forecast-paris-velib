/* ========================================================================
   ui/styles/globals.css
   Global resets + variables + Urbanist
   Fond par défaut (identique monitoring) appliqué UNIQUEMENT si <body> n’a pas .bg-local
   ======================================================================== */

/* ======================= Variables globales ======================= */
:root {
  /* --- Couleurs principales (dark par défaut) --- */
  --bg:#0b1220;
  --bg-soft:rgba(15,23,42,0.50);
  --bg-softer:rgba(15,23,42,0.35);
  --panel:#0f172a;
  --panel-2:#0c1324;
  --text:#e6eaf2;
  --text-dim:#9ca3af;

  /* --- Couleurs accent / branding --- */
  --primary:#ff6a00;
  --primary-2:#1d7fff;
  --accent:#59d4ff;
  --accentA:rgba(29,127,255,0.18);

  /* --- États --- */
  --ok:#22c55e;
  --warn:#f59e0b;
  --err:#ef4444;
  --info:#38bdf8;

  /* --- Halos unifiés (identiques monitoring) --- */
  --halo-o:rgba(255,106,0,.10);
  --halo-b:rgba(29,127,255,.12);
  --halo-mix:linear-gradient(180deg, rgba(255,106,0,.05), rgba(29,127,255,.05));

  /* --- Ombres / rayons / z-index --- */
  --radius-sm:8px;
  --radius-md:12px;
  --radius-lg:16px;
  --shadow-1:0 10px 30px rgba(0,0,0,.25);
  --shadow-2:0 6px 18px rgba(0,0,0,.20);
  --shadow-lg:0 18px 54px rgba(0,0,0,.45);
  --ring:rgba(255,255,255,.14);

  --z-header:100; --z-backdrop:90; --z-tooltip:400; --z-toast:450; --z-modal:500;

  /* --- Typographie --- */
  --mn-font:var(--font-urbanist, ui-sans-serif), system-ui, -apple-system,
             "Segoe UI", Roboto, Inter, "Helvetica Neue", Arial,
             "Apple Color Emoji", "Segoe UI Emoji";
  --font-sans:var(--mn-font);
  --fs-base:clamp(15px, .85vw + 8px, 16px);
  --fs-hero:clamp(28px, 4.6vw, 54px);
  --fs-h2:clamp(22px, 3vw, 34px);
  --fs-h3:clamp(17px, 1.9vw, 22px);
  --fs-lead:clamp(14px, 1vw + 11px, 17px);

  /* --- Layout --- */
  --content-max:1200px;
  --header-h:70px;
  --safe-top:env(safe-area-inset-top, 0px);
  --safe-bot:env(safe-area-inset-bottom, 0px);
}

/* ======================= Thème clair (auto) ======================= */
@media (prefers-color-scheme: light){
  :root{
    --bg:#f9fafb;
    --bg-soft:rgba(255,255,255,0.86);
    --bg-softer:rgba(255,255,255,0.72);
    --panel:#ffffff;
    --panel-2:#f7f9fd;
    --text:#111827;
    --text-dim:#6e7788;

    --shadow-1:0 12px 28px rgba(0,0,0,.12), 0 2px 8px rgba(0,0,0,.06);
    --shadow-2:0 8px 18px rgba(0,0,0,.08);
    --ring:rgba(0,0,0,.10);

    /* halos plus doux (identiques monitoring) */
    --halo-o:rgba(255,106,0,.12);
    --halo-b:rgba(29,127,255,.14);
    --halo-mix:linear-gradient(180deg, rgba(255,106,0,.06), rgba(29,127,255,.06));
  }
}

/* ======================= Thème clair (forcé) =======================
   Ajoute data-theme="light" sur <html> OU .theme-light sur <body> pour forcer le clair
   ================================================================== */
:root[data-theme="light"],
.theme-light{
  --bg:#f9fafb;
  --bg-soft:rgba(255,255,255,0.86);
  --bg-softer:rgba(255,255,255,0.72);
  --panel:#ffffff;
  --panel-2:#f7f9fd;
  --text:#111827;
  --text-dim:#6e7788;

  --shadow-1:0 12px 28px rgba(0,0,0,.12), 0 2px 8px rgba(0,0,0,.06);
  --shadow-2:0 8px 18px rgba(0,0,0,.08);
  --ring:rgba(0,0,0,.10);

  --halo-o:rgba(255,106,0,.12);
  --halo-b:rgba(29,127,255,.14);
  --halo-mix:linear-gradient(180deg, rgba(255,106,0,.06), rgba(29,127,255,.06));
}

/* ======================= Reset ======================= */
html, body { margin:0; padding:0; }
*, *::before, *::after { box-sizing:border-box; }
html{ color-scheme: light dark; }
html, body, #__next{ min-height:100%; }

/* ======================= Fond global =======================
   IMPORTANT : n’applique le fond global que si <body> n’a PAS .bg-local
   (les pages qui gèrent leur propre fond — landing/monitoring — ajoutent .bg-local)
   ============================================================ */
body:not(.bg-local){
  background:
    radial-gradient(60vmax 60vmax at 18% -10%, var(--halo-o), transparent 55%),
    radial-gradient(70vmax 70vmax at 82% 110%, var(--halo-b), transparent 55%),
    var(--halo-mix),
    var(--bg);
  background-blend-mode: normal, normal, saturation, normal;
}

body{
  color: var(--text);
  font-family: var(--font-sans);
  font-size: var(--fs-base);
  line-height:1.6;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  overscroll-behavior:auto;
  touch-action:auto;
}

/* ======================= Typographie ======================= */
h1,h2,h3,h4,h5,h6,p,span,a,small,strong,b,em,i,u,mark,
button,input,select,textarea,label,legend,figcaption,
table,th,td,li,dt,dd{ font-family:inherit; }

h1,h2,h3,h4,h5,h6{
  font-weight:700;
  letter-spacing:-.02em;
  line-height:1.2;
  margin:0;
  color:var(--text);
}
h1{ font-size:var(--fs-hero); line-height:1.04; letter-spacing:-.2px; }
h2{ font-size:var(--fs-h2); }
h3{ font-size:var(--fs-h3); }

strong,b{ font-weight:700; color:var(--text); }
.lead{ font-size:var(--fs-lead); color:var(--text-dim); max-width:60ch; }
a{ color:var(--primary); text-decoration:none; }
a:hover,a:focus-visible{ text-decoration:underline; }
img{ max-width:100%; display:block; }

/* ======================= Conteneurs ======================= */
.container{ max-width:var(--content-max); margin:0 auto; padding:0 24px; }
.container.tight{ max-width:1024px; }

/* ======================= A11y / Motion ======================= */
:focus-visible{ outline:none; box-shadow:0 0 0 3px rgba(29,127,255,.35); border-radius:10px; }
.sr-only{ position:absolute!important; width:1px!important; height:1px!important; padding:0!important; margin:-1px!important; overflow:hidden!important; clip:rect(0,0,0,0)!important; border:0!important; }

@media (prefers-reduced-motion:reduce){
  *{ animation-duration:.01ms!important; transition-duration:.01ms!important; }
}
@media (prefers-reduced-data:reduce){
  .fx--page, .fx--section{ display:none!important; }
}

/* ======================= Halos / FX décoratifs (optionnels) =======================
   Ces calques décoratifs sont additionnels. Le FOND est déjà géré ci-dessus.
   =============================================================================== */
.fx--page{
  position:fixed; inset:-12% -10% -18% -10%;
  pointer-events:none; z-index:0;
  background:
    radial-gradient(60vmax 60vmax at 18% -10%, var(--halo-o), transparent 55%),
    radial-gradient(70vmax 70vmax at 82% 110%, var(--halo-b), transparent 55%),
    var(--halo-mix);
  filter:saturate(110%) blur(10px);
  opacity:.95;
}
.fx--section{
  position:absolute; inset:-14%; pointer-events:none; z-index:0;
  background:
    radial-gradient(48vmax 30vmax at 14% 0%, var(--halo-o), transparent 60%),
    radial-gradient(56vmax 32vmax at 86% 100%, var(--halo-b), transparent 55%);
  filter:saturate(110%) blur(10px);
  opacity:.9;
}

/* ======================= Utilitaires ======================= */
.hidden{ display:none!important; }
.text-muted{ color:var(--text-dim)!important; }